---
alwaysApply: true
description: Règles et conventions pour le JavaScript du package
---

# Règles JavaScript

## Architecture
- JS core générique : `resources/js/kit/index.js` (bootstrap, utils partagés, router `data-module`).
- Modules par composant : `resources/js/modules/{module}.js` (ou `resources/js/{module}.js` / `{module}/index.js`).
- Initialisation paresseuse: scan `[data-module]` + `MutationObserver`; exposer `window.DaisyKit.init()` / `reinit()`.

## Standardisation
- Standardiser l'ancrage JS : `data-module="<nom-module>"` généré automatiquement depuis les props Blade.
- Le JS core scanne `[data-module]` et route vers les modules avec options extraites du dataset.

## Props Blade vs data-attributes
- Privilégier les props Blade (Laravel 12) plutôt que les `data-*` dans les templates.
- Générer automatiquement `data-module` et dataset options depuis les props (source unique de vérité).
- Les composants exposent des props lisibles (camelCase) qui deviennent des `data-*` en kebab-case si un module JS est requis.
- `data-module` est généré automatiquement par le composant quand un module est nécessaire, avec possibilité de surcharger via prop `module`.
- Les booléens sont rendus (`true`/`false`) ou omis quand non pertinents; les objets/arrays sont JSON-stringifiés.
- Les modules JS lisent les options via le dataset rendu.

## CSS
- Ne jamais embarquer de CSS custom; uniquement Tailwind v4 + daisyUI v5.
