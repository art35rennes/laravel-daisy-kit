---
alwaysApply: true
---
- Write all tests in English.
- Use Pest v4 for all testing (unit, feature, and integration).
- Always run tests with `--parallel` option for faster execution: `composer test` (alias `pest --parallel`).
- After completing a feature or bug fix, write or update tests to cover all affected code.
- Avoid redundant tests: if a feature is already tested, do not add duplicate tests unless its behavior changes in another context.
- A good test is isolated, deterministic, and fast — it should not depend on external services or shared state.
- Use factories and database transactions (RefreshDatabase) to ensure clean test data.
- Group related tests using test suites or datasets for clarity and maintainability.
- Two types of tests:
  - Feature (Blade rendering): default values, variants, expected errors.
  - Browser (interactions): critical JS components; no console errors.
- Browser tests: `tests/Browser/` for critical JS interactions.
- Rendering tests: use a helper to normalize HTML generated by Blade components to reduce assertion fragility.
- Target: ≥80% coverage on critical components.
