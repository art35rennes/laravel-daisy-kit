---
alwaysApply: false
---

## Règles spécifiques au projet (concises)

Objectif: compléter les règles globales (daisyui/laravel-boost) par les conventions propres à ce package, sans duplication.

### Structure des composants
- Namespace Blade: `daisy::`.
- Arborescence catégorielle obligatoire dans `resources/views/components/ui/{category}/*`:
  - inputs, navigation, layout, data-display, overlay, media, feedback, utilities, advanced
- Les `layout/*` et `partials/*` doivent consommer les composants `ui/*` (pas de duplication d’implémentation).

### JavaScript (kit + modules)
- Noyau: `resources/js/kit/index.js` (bootstrap, router `[data-module]`, options via `dataset`).
- Modules par composant: `resources/js/modules/{module}.js` (ou `resources/js/{module}.js` / `{module}/index.js`).
- Initialisation paresseuse: scan `[data-module]` + `MutationObserver`; exposer `window.DaisyKit.init()` / `reinit()`.
- Options: toute option passe par des props Blade → sérialisées en `data-*` (source unique).
- Ne jamais embarquer de CSS custom; uniquement Tailwind v4 + daisyUI v5.

### Props Blade vs data-attributes
- Les composants exposent des props lisibles (camelCase) qui deviennent des `data-*` en kebab-case si un module JS est requis.
- `data-module` est généré automatiquement par le composant quand un module est nécessaire, avec possibilité de surcharger via prop `module`.
- Les booléens sont rendus (`true`/`false`) ou omis quand non pertinents; les objets/arrays sont JSON-stringifiés.

### Tests (Pest 4)
- Exécuter toujours en parallèle: `composer test` (alias `pest --parallel`).
- Deux types de tests:
  - Feature (rendu Blade): valeurs par défaut, variantes, erreurs attendues.
  - Browser (interactions): composants JS critiques; aucune erreur console.
- Utiliser un helper de normalisation HTML pour réduire la fragilité des assertions.

### Icônes
- Uniquement `blade-ui-kit/blade-icons` et collections installées. Pas de SVG inline.

### Revue et maintenance
- Factoriser en priorité; éviter la logique dupliquée.
- Respecter daisyUI v5/Tailwind v4 (classes existantes uniquement).
- Commentaires: PHPDoc/JSDoc utiles uniquement (rationale, invariants, edge cases). Éviter les évidences.

### Publication
- Démo/doc vivante sous `resources/dev/views/demo/*`, publiable via tag `daisy-dev-views`.
- Sources front publiables via tag `daisy-src`.

