import{_ as $}from"./app-Il9r1z46.js";function j(t){if(!t||typeof t!="string")return!1;const e=t.trim();return e.startsWith("#")||e.startsWith("rgb")||e.startsWith("hsl")||e.startsWith("oklch")||e.startsWith("lab")||e.startsWith("lch")||e.startsWith("color(")||e.startsWith("var(")}function W(t,e){try{const r=t.match(/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i);if(!r)return t;const n=parseInt(r[1],10),s=parseInt(r[2],10),a=parseInt(r[3],10),i=Math.max(0,Math.min(1,Number(e)));return`rgba(${n}, ${s}, ${a}, ${i})`}catch{return t}}function g(t){const e=document.createElement("span");return e.textContent="â€‹",e.style.position="absolute",e.style.left="-99999px",e.style.top="-99999px",e.style.pointerEvents="none",e.style.opacity="0",(t||document.body).appendChild(e),e}function N(t,e,r="text"){if(!t)return null;if(j(t)){if(t.startsWith("var(")){const c=g(e||document.body);c.style.color=t;const l=getComputedStyle(c).color;return c.remove(),l||null}return t}let n=`text-${t}`,s="color";r==="bg"?(n=`bg-${t}`,s="backgroundColor"):r==="border"&&(n=`border border-${t}`,s="borderTopColor");const a=g(e||document.body);a.className=n;const i=getComputedStyle(a),o=i[s]||i.color;return a.remove(),o||null}function L(t,e,r="text"){return(Array.isArray(t)?t:t?[t]:[]).map(s=>N(String(s),e,r)).filter(Boolean)}function h(t,e,r="text"){return N(t,e,r)}function b(t,e){if(!t)return t;if(t.startsWith("rgba("))try{const s=t.substring(5,t.length-1).split(",").map(l=>l.trim()),a=s[0],i=s[1],o=s[2],c=Math.max(0,Math.min(1,Number(e)));return`rgba(${a}, ${i}, ${o}, ${c})`}catch{return t}if(t.startsWith("rgb("))return W(t,e);const r=g(document.body);r.style.color=t;const n=getComputedStyle(r).color;return r.remove(),W(n,e)}function q(t){return h("base-content",t)||"rgb(30,30,30)"}function z(t){const e=g(t||document.body);e.className="border border-base-300";const r=getComputedStyle(e),n=r.borderTopColor||r.color;return e.remove(),n||"rgb(200,200,200)"}function B(t){const e=g(t||document.body);e.className="bg-base-100";const n=getComputedStyle(e).backgroundColor||"rgb(255,255,255)";return e.remove(),n}function I(t){const e=t.match(/rgba?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*([0-9.]+))?\s*\)/i);return e?{r:Number(e[1]),g:Number(e[2]),b:Number(e[3]),a:e[4]!=null?Number(e[4]):1}:null}function k(t){return t=t/255,t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function F(t){if(!t)return 1;const e=k(t.r),r=k(t.g),n=k(t.b);return .2126*e+.7152*r+.0722*n}function A(t){const e=B(t),r=I(e);return F(r)<.5}function S(t,e){const r=Array.isArray(t)&&t.length?t:["primary","secondary","accent","info","success","warning","error"];return L(r,e,"text")}let C=null;const x=new WeakMap,m={mode:"auto",pixelRatioCap:1.75,resizeDelay:120,maxTicks:9,interactionMode:"nearest",decimationThreshold:1e3,decimationSamples:300};async function J(){if(C)return C;const t=await $(()=>import("./auto-Cj0TocxD.js"),[]);return C=t.default||t,C}function D(t,e,r,n){const s=[],a=e&&e.length?e:S(null,r);t=Array.isArray(t)?t:[];for(let i=0;i<t.length;i++){const o={...t[i]};o.type==="area"&&(o.type="line");const c=o.color||a[i%a.length]||h("primary",r),l=h(c,r)||c;o.fillAlpha!=null&&Number(o.fillAlpha),o.borderAlpha!=null&&Number(o.borderAlpha);const u=o.type||n;if(!o.backgroundColor)if(["doughnut","pie","polarArea"].includes(u)){const d=Array.isArray(o.data)?o.data.length:0,f=[];for(let p=0;p<d;p++){const y=a[p%a.length]||l;f.push(b(h(y,r)||y,.75))}o.backgroundColor=f}else{const d=A(r),f=u==="radar"?d?.12:.08:d?.25:.18;let p=o.fillAlpha!=null?Number(o.fillAlpha):f;["bar","doughnut","pie","polarArea"].includes(u)||(p=Math.min(p,.6)),o.backgroundColor=b(l,p)}if(!o.borderColor){const d=A(r),f=o.borderAlpha!=null?Number(o.borderAlpha):d?.95:.85;o.borderColor=b(l,f)}Array.isArray(o.data)&&(u==="bar"||!o.type)&&(o.borderWidth=o.borderWidth!=null?o.borderWidth:1),n==="area"&&o.fill==null&&(o.fill=!0),s.push(o)}return s}function M(t,e,r){const n=q(r),s=A(r),a=z(r),i=b(a,s?.25:.35),o=b(a,s?.45:.55),c={plugins:{legend:{labels:{color:n}},tooltip:l=>({backgroundColor:b(h("base-200",r)||"#222",s?.98:.97),titleColor:n,bodyColor:n,borderColor:o,borderWidth:1})},scales:{}};return t==="radar"||t==="polarArea"?c.scales.r={angleLines:{color:o,lineWidth:1,display:!0},grid:{color:i,lineWidth:1,circular:!0,display:!0},pointLabels:{color:n},ticks:{color:n,showLabelBackdrop:!1,backdropColor:"transparent",display:!0},beginAtZero:!0}:["doughnut","pie"].includes(t)?delete c.scales:(c.scales.x={ticks:{color:n,autoSkip:!0,maxRotation:0},grid:{color:i,borderColor:o,drawBorder:!0,display:!0,drawTicks:!0,lineWidth:1},border:{color:o}},c.scales.y={ticks:{color:n},grid:{color:i,borderColor:o,drawBorder:!0,display:!0,drawTicks:!0,lineWidth:1},border:{color:o}}),{...c,...e||{}}}function O(t,e,r){const n=e.daisy||{},s=typeof n.performance=="string"?{mode:n.performance}:n.performance||{},a=s.mode||m.mode||"auto",i=(()=>{try{return(r&&r.datasets||[]).reduce((f,p)=>f+(Array.isArray(p?.data)?p.data.length:0),0)}catch{return 0}})(),o={},c=s.pixelRatioCap??m.pixelRatioCap;if(c&&typeof window<"u"){const d=Math.min(window.devicePixelRatio||1,Number(c));o.devicePixelRatio=d}o.resizeDelay=s.resizeDelay??m.resizeDelay;const l=s.interactionMode||m.interactionMode;o.interaction={mode:l,intersect:!0},o.events=["mousemove","mouseout","click","touchstart","touchmove"];const u=s.maxTicks??m.maxTicks;return t==="radar"||t==="polarArea"?o.scales={r:{angleLines:{display:!0},grid:{},pointLabels:{},ticks:{maxTicksLimit:u}}}:["doughnut","pie"].includes(t)?o.scales={}:o.scales={x:{ticks:{maxTicksLimit:u,autoSkip:!0,maxRotation:0}},y:{ticks:{maxTicksLimit:u,autoSkip:!0}}},o.elements={},(t==="line"||t==="radar")&&(o.elements.point={radius:2,hitRadius:6,hoverRadius:4},o.normalized=!0),(t==="line"||t==="bar")&&i>=(s.decimationThreshold??m.decimationThreshold)&&(o.plugins={...o.plugins||{},decimation:{enabled:!0,algorithm:"lttb",samples:s.decimationSamples??m.decimationSamples}}),a==="static"?(o.animation=!1,o.responsiveAnimationDuration=0):a==="fast"?(o.animation={duration:0},o.responsiveAnimationDuration=0):(a==="balanced"||a==="auto")&&(o.animation={duration:200,easing:"easeOutQuart"},o.responsiveAnimationDuration=0),o}function _(t,e){const r={...t,...e};(t.plugins||e.plugins)&&(r.plugins={...t.plugins||{},...e.plugins||{}}),(t.interaction||e.interaction)&&(r.interaction={...t.interaction||{},...e.interaction||{}}),(t.elements||e.elements)&&(r.elements={...t.elements||{},...e.elements||{}});function n(s,a){const i={...s||{},...a||{}};return(s?.ticks||a?.ticks)&&(i.ticks={...s?.ticks||{},...a?.ticks||{}}),(s?.grid||a?.grid)&&(i.grid={...s?.grid||{},...a?.grid||{}}),(s?.angleLines||a?.angleLines)&&(i.angleLines={...s?.angleLines||{},...a?.angleLines||{}}),(s?.pointLabels||a?.pointLabels)&&(i.pointLabels={...s?.pointLabels||{},...a?.pointLabels||{}}),(s?.title||a?.title)&&(i.title={...s?.title||{},...a?.title||{}}),i}if(t.scales||e.scales){r.scales={...t.scales||{},...e.scales||{}};const s=t.scales?.x||{},a=e.scales?.x||{},i=t.scales?.y||{},o=e.scales?.y||{},c=t.scales?.r||{},l=e.scales?.r||{};(Object.keys(s).length||Object.keys(a).length)&&(r.scales.x=n(s,a)),(Object.keys(i).length||Object.keys(o).length)&&(r.scales.y=n(i,o)),(Object.keys(c).length||Object.keys(l).length)&&(r.scales.r=n(c,l))}return r}function G(t){const e=t.querySelector("canvas"),r=t.querySelector("script[data-config]");if(!e||!r)return null;try{const n=JSON.parse(r.textContent||"{}");return{canvas:e,cfg:n}}catch{return null}}async function P(t,e,r){const n=await J(),s=e.type||"bar",a=s==="area"?"line":s,i=e.daisy||{},o=i.colors?L(i.colors,r):null,c=o&&o.length?o:S(i.palette,r),l={type:a,data:{labels:e.data&&e.data.labels||[],datasets:D(e.data&&e.data.datasets||[],c,r,s)},options:M(a,e.options,r)};l.options=_(l.options,O(a,e,l.data));const u=new n(t,l);return x.set(t,u),u}async function w(t){const e=G(t);if(!e)return null;const{canvas:r,cfg:n}=e;return P(r,n,t)}async function Q(){const t=Array.from(document.querySelectorAll('[data-chart="1"]')),e=[];for(const r of t){const n=await w(r);n&&e.push(n)}return e}function v(){V((t,e)=>{try{const r=t.closest('[data-chart="1"]')||document.body,n=e.config.type,s=r.querySelector("script[data-config]"),a=s?JSON.parse(s.textContent||"{}"):{},i=a.daisy||{},o=i.colors?L(i.colors,r):null,c=o&&o.length?o:S(i.palette,r),l=e.config.data.datasets||[],u=a.type||n,d=D(l,c,r,u);e.config.data.datasets=d.map((T,R)=>({...l[R],backgroundColor:T.backgroundColor,borderColor:T.borderColor}));const f=u==="area"?"line":u,p=M(f,a.options,r),y=O(f,a,e.config.data);e.config.options=_(p,y),e.update("none")}catch{}})}function V(t){Array.from(document.querySelectorAll('[data-chart="1"] canvas')).forEach(r=>{const n=x.get(r);n&&t(r,n)})}window.DaisyChart={init:w,initAll:Q,create:P,updateTheme:v,setGlobalPerformanceDefaults:t=>{Object.assign(m,t||{})}};(function(){function e(){const r=Array.from(document.querySelectorAll('[data-chart="1"]'));if(!r.length)return;const n=[];let s=!1;async function a(){if(s)return;const o=n.shift();if(o){s=!0;try{await o()}catch{}finally{s=!1,n.length&&requestAnimationFrame(a)}}}const i=new IntersectionObserver(o=>{o.forEach(c=>{if(c.isIntersecting){const l=c.target;i.unobserve(l),n.push(()=>w(l)),a()}})},{rootMargin:"400px 0px",threshold:.05});r.forEach(o=>i.observe(o))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):Promise.resolve().then(e)})();function Z(){try{const t=document.documentElement;new MutationObserver(r=>{for(const n of r)if(n.type==="attributes"&&n.attributeName==="data-theme"){v();break}}).observe(t,{attributes:!0,attributeFilter:["data-theme"]})}catch{}document.addEventListener("change",t=>{const e=t.target;e&&(e.classList&&e.classList.contains("theme-controller")||e.id==="themeSelect")&&v()})}Z();export{b as applyAlpha,S as buildPalette,P as createChart,B as getBase100Color,z as getBase300Color,q as getBaseContentColor,w as init,Q as initAll,A as isDarkTheme,L as resolveColors,h as resolveSingleColor,v as updateTheme};
