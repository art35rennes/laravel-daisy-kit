function I(e){const t=[];return e.querySelectorAll("[data-transfer-item]").forEach((n,l)=>{const s=n.getAttribute("data-id")||String(l),i=n.getAttribute("data-label")||n.textContent.trim(),g=n.getAttribute("data-disabled")==="true",o=n.getAttribute("data-checked")==="true";t.push({id:s,label:i,disabled:g,checked:o})}),t}function C(e,t,n){const{page:l,perPage:s,searchTerm:i,noDataText:g}=n;let o=t;if(i){const a=i.toLowerCase();o=t.filter(r=>r.label.toLowerCase().includes(a))}const E=o.length,T=(l-1)*s,S=T+s,v=n.pagination?o.slice(T,S):o;if(e.innerHTML="",v.length)v.forEach(a=>{const r=document.createElement("li");r.className="px-2",r.setAttribute("data-transfer-item",""),r.setAttribute("data-id",a.id),r.setAttribute("data-label",a.label),r.setAttribute("data-disabled",a.disabled?"true":"false"),r.setAttribute("data-checked",a.checked?"true":"false");const p=document.createElement("label");p.className="flex items-center gap-2 py-1";const d=document.createElement("input");d.type="checkbox",d.className="checkbox checkbox-xs",d.checked=!!a.checked,d.disabled=!!a.disabled,d.addEventListener("change",()=>{a.checked=d.checked});const h=document.createElement("span");h.className="truncate",h.textContent=a.label,p.append(d,h),r.append(p),e.append(r)});else{const a=document.createElement("li");a.className="px-2 py-2 opacity-70",a.textContent=g||"No Data",e.appendChild(a)}return{total:E,pages:n.pagination?Math.max(1,Math.ceil(E/s)):1}}function _(e,t,n){if(!e)return;const l=e.querySelector('[data-transfer-page="prev"]'),s=e.querySelector('[data-transfer-page="next"]'),i=e.querySelector('[data-transfer-page="info"]');function g(){i&&(i.textContent=t.page+"/"+t.pages)}l&&l.addEventListener("click",()=>{t.page>1&&(t.page-=1,n())}),s&&s.addEventListener("click",()=>{t.page<t.pages&&(t.page+=1,n())}),t._updatePagerInfo=g}function w(e){if(!e||e.__tfInit)return;e.__tfInit=!0;const t=e.getAttribute("data-one-way")==="true",n=e.getAttribute("data-pagination")==="true",l=parseInt(e.getAttribute("data-elements-per-page")||"5",10)||5,s=e.getAttribute("data-search")==="true",i=e.getAttribute("data-select-all")!=="false",g=e.getAttribute("data-no-data-text")||"No Data",o=e.querySelector('[data-transfer-list="source"]'),E=e.querySelector('[data-transfer-list="target"]'),T=e.querySelector('[data-transfer-move="toTarget"]'),S=e.querySelector('[data-transfer-move="toSource"]'),v=e.querySelector('[data-transfer-pager="source"]'),a=e.querySelector('[data-transfer-pager="target"]'),r=e.querySelector('[data-transfer-search="source"]'),p=e.querySelector('[data-transfer-search="target"]'),d=e.querySelector('[data-transfer-selectall="source"]'),h=e.querySelector('[data-transfer-selectall="target"]');let k=I(o),A=I(E);const b={page:1,pages:1,perPage:l,pagination:n,searchTerm:"",noDataText:g},m={page:1,pages:1,perPage:l,pagination:n,searchTerm:"",noDataText:g};function u(){const c=C(o,k,b);b.pages=c.pages,b._updatePagerInfo&&b._updatePagerInfo();const f=C(E,A,m);m.pages=f.pages,m._updatePagerInfo&&m._updatePagerInfo(),e.dispatchEvent(new CustomEvent("listChange",{detail:{source:k,target:A},bubbles:!0}))}function L(c,f){const x=c.filter(y=>y.checked&&!y.disabled);if(!x.length)return;x.forEach(y=>{y.checked=!1});const P=c.filter(y=>!x.includes(y));return f.push(...x),P}_(v,b,u),_(a,m,u),s&&r&&r.addEventListener("input",()=>{b.searchTerm=r.value||"",b.page=1,u()}),s&&p&&p.addEventListener("input",()=>{m.searchTerm=p.value||"",m.page=1,u()}),i&&d&&d.addEventListener("change",()=>{const c=d.checked;k.forEach(f=>{f.disabled||(f.checked=c)}),u()}),i&&h&&h.addEventListener("change",()=>{const c=h.checked;A.forEach(f=>{f.disabled||(f.checked=c)}),u()}),T&&T.addEventListener("click",()=>{const c=L(k,A);c&&(k=c),u()}),S&&!t&&S.addEventListener("click",()=>{const c=L(A,k);c&&(A=c),u()}),t&&S&&S.setAttribute("disabled","true"),u()}function q(){document.querySelectorAll('[data-transfer="1"]').forEach(w)}window.DaisyTransfer={init:w,initAll:q};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",q):q();
