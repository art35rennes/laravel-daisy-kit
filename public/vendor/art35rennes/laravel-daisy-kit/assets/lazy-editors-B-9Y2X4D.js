import{_ as u}from"./app-Dv4JvHbV.js";function p(e){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}function d(e){return e?e.tagName&&e.tagName.toLowerCase()==="details"?"details":e.querySelector(':scope > input[type="checkbox"]')?"checkbox":"focus":"unknown"}function h(e){if(!e)return!1;if(e.classList.contains("collapse-open"))return!0;const i=d(e);if(i==="details")return!!e.open;if(i==="checkbox"){const t=e.querySelector(':scope > input[type="checkbox"]');return!!(t&&t.checked)}return i==="focus"?e.matches(":focus-within"):!1}function a(e){if(!e)return!1;const i=e.closest("details.collapse");if(i&&!i.open&&!i.classList.contains("collapse-open"))return!0;const t=e.closest("div.collapse");if(t){if(t.classList.contains("collapse-open"))return!1;const r=t.querySelector(':scope > input[type="checkbox"]');if(r&&!r.checked)return!0}return!1}async function f(){return window.DaisyCodeEditor||await u(()=>import("./code-editor-t4sL_eGI.js"),[]),window.DaisyCodeEditor}let o=!1;async function s(){await u(()=>import("./trix.esm.min-BOhpVzKJ.js"),[]),!o&&(o=!0,document.addEventListener("trix-file-accept",e=>{try{const t=e.target.closest(".trix-wrapper");t&&t.getAttribute("data-trix-attachments")==="1"||e.preventDefault()}catch{}},{capture:!0}))}async function c(e){if(!e)return;const i=Array.from(e.querySelectorAll(".code-editor"));if(i.length)try{const r=await f();i.forEach(n=>r.init(n))}catch{}const t=Array.from(e.querySelectorAll(".trix-wrapper"));if(t.length)try{await s(),t.forEach(r=>{if(r.getAttribute("data-trix-deferred")==="1")return;const n=r.querySelector("[data-trix-container]");n&&n.classList.remove("hidden")})}catch{}}function l(e){if(!e||e.__lazyWatch)return;e.__lazyWatch=!0;const i=d(e);if(h(e)&&c(e),i==="details")e.addEventListener("toggle",()=>{e.open&&c(e)},{passive:!0});else if(i==="checkbox"){const r=e.querySelector(':scope > input[type="checkbox"]');r&&r.addEventListener("change",()=>{(r.checked||e.classList.contains("collapse-open"))&&c(e)},{passive:!0})}else e.addEventListener("focusin",()=>c(e),{once:!0,passive:!0})}function y(){const e=Array.from(document.querySelectorAll(".code-editor")).filter(t=>!a(t)),i=Array.from(document.querySelectorAll("trix-editor")).filter(t=>!a(t));e.length&&f().then(t=>e.forEach(r=>t.init(r))).catch(()=>{}),i.length&&s().catch(()=>{})}p(()=>{document.querySelectorAll(".collapse").forEach(l),document.querySelectorAll("details.collapse").forEach(l),y(),document.addEventListener("click",async e=>{const i=e.target.closest("button[data-trix-init-button]");if(!i)return;const t=i.closest(".trix-wrapper");if(t)try{await s();const r=t.querySelector("[data-trix-container]");r&&r.classList.remove("hidden"),t.removeAttribute("data-trix-deferred"),i.closest("div")?.remove()}catch{}})});
