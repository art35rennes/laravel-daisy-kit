function I(e){const t=[];return e.querySelectorAll("[data-transfer-item]").forEach((n,o)=>{const s=n.getAttribute("data-id")||String(o),i=n.getAttribute("data-label")||n.textContent.trim(),p=n.getAttribute("data-disabled")==="true",u=n.getAttribute("data-checked")==="true";t.push({id:s,label:i,disabled:p,checked:u})}),t}function _(e,t,n){const{page:o,perPage:s,searchTerm:i,noDataText:p}=n;let u=t;if(i){const a=i.toLowerCase();u=t.filter(r=>r.label.toLowerCase().includes(a))}const E=u.length,v=(o-1)*s,T=v+s,q=n.pagination?u.slice(v,T):u;if(e.innerHTML="",q.length)q.forEach(a=>{const r=document.createElement("li");r.className="",r.setAttribute("data-transfer-item",""),r.setAttribute("data-id",a.id),r.setAttribute("data-label",a.label),r.setAttribute("data-disabled",a.disabled?"true":"false"),r.setAttribute("data-checked",a.checked?"true":"false");const S=document.createElement("label");S.className="label cursor-pointer";const d=document.createElement("input");d.type="checkbox",d.className="checkbox",d.checked=!!a.checked,d.disabled=!!a.disabled,d.addEventListener("change",()=>{a.checked=d.checked});const k=document.createElement("span");k.className="font-medium truncate",k.textContent=a.label,S.append(d,k),r.append(S),e.append(r)});else{const a=document.createElement("li");a.className="px-2 py-2 opacity-70",a.textContent=p||"No Data",e.appendChild(a)}return{total:E,pages:n.pagination?Math.max(1,Math.ceil(E/s)):1}}function w(e,t,n){if(!e)return;const o=e.querySelector('[data-transfer-page="prev"]'),s=e.querySelector('[data-transfer-page="next"]'),i=e.querySelector('[data-transfer-page="info"]');function p(){i&&(i.textContent=t.page+"/"+t.pages)}o&&o.addEventListener("click",()=>{t.page>1&&(t.page-=1,n())}),s&&s.addEventListener("click",()=>{t.page<t.pages&&(t.page+=1,n())}),t._updatePagerInfo=p}function P(e){if(!e||e.__tfInit)return;e.__tfInit=!0;const t=e.getAttribute("data-one-way")==="true",n=e.getAttribute("data-pagination")==="true",o=parseInt(e.getAttribute("data-elements-per-page")||"5",10)||5,s=e.getAttribute("data-search")==="true",i=e.getAttribute("data-select-all")!=="false",p=e.getAttribute("data-no-data-text")||"No Data";e.getAttribute("data-stack-on"),e.querySelector("[data-transfer-orient]");const u=e.querySelector('[data-transfer-list="source"]'),E=e.querySelector('[data-transfer-list="target"]'),v=e.querySelector('[data-transfer-move="toTarget"]'),T=e.querySelector('[data-transfer-move="toSource"]'),q=e.querySelector('[data-transfer-pager="source"]'),a=e.querySelector('[data-transfer-pager="target"]'),r=e.querySelector('[data-transfer-search="source"]'),S=e.querySelector('[data-transfer-search="target"]'),d=e.querySelector('[data-transfer-selectall="source"]'),k=e.querySelector('[data-transfer-selectall="target"]');let h=I(u),b=I(E);const y={page:1,pages:1,perPage:o,pagination:n,searchTerm:"",noDataText:p},A={page:1,pages:1,perPage:o,pagination:n,searchTerm:"",noDataText:p};function f(){const c=_(u,h,y);y.pages=c.pages,y._updatePagerInfo&&y._updatePagerInfo();const g=_(E,b,A);A.pages=g.pages,A._updatePagerInfo&&A._updatePagerInfo();try{const m=e.querySelector('[data-transfer-count="source"]'),x=e.querySelector('[data-transfer-count="target"]');m&&(m.textContent=`${h.filter(l=>l.checked).length} / ${h.length}`),x&&(x.textContent=`${b.filter(l=>l.checked).length} / ${b.length}`)}catch{}e.dispatchEvent(new CustomEvent("listChange",{detail:{source:h,target:b},bubbles:!0}))}function C(c,g){const m=c.filter(l=>l.checked&&!l.disabled);if(!m.length)return;m.forEach(l=>{l.checked=!1});const x=c.filter(l=>!m.includes(l));return g.push(...m),x}w(q,y,f),w(a,A,f),s&&r&&r.addEventListener("input",()=>{y.searchTerm=r.value||"",y.page=1,f()}),s&&S&&S.addEventListener("input",()=>{A.searchTerm=S.value||"",A.page=1,f()}),i&&d&&d.addEventListener("change",()=>{const c=d.checked;h.forEach(g=>{g.disabled||(g.checked=c)}),f()}),i&&k&&k.addEventListener("change",()=>{const c=k.checked;b.forEach(g=>{g.disabled||(g.checked=c)}),f()}),v&&v.addEventListener("click",()=>{const c=C(h,b);c&&(h=c),f()}),T&&!t&&T.addEventListener("click",()=>{const c=C(b,h);c&&(b=c),f()}),t&&T&&T.setAttribute("disabled","true"),f()}function L(){document.querySelectorAll('[data-transfer="1"]').forEach(P)}window.DaisyTransfer={init:P,initAll:L};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",L):L();
