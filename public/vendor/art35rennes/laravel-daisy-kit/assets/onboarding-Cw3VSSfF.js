import{_ as z}from"./app-Il9r1z46.js";function P(n,t,s){return Math.max(t,Math.min(s,n))}function V(n){try{const t=n.querySelector("script[data-onboarding-config]");if(!t)return null;const s=JSON.parse(t.textContent||"{}");return s&&typeof s=="object"?s:null}catch{return null}}function I(){const n=document.createElement("div");return n.className="fixed inset-0 z-[70] pointer-events-none",n.style.transition="opacity 200ms ease",n.style.opacity="0",n}function W(n){const t=document.createElement("div");return t.className="absolute inset-0",(n==="dim"||n==="dim-blur")&&(t.style.backgroundColor="hsla(var(--bc), 0.6)",t.classList.add("backdrop-blur-0"),n==="dim-blur"&&t.classList.add("backdrop-blur-sm")),t}function q(){const n=document.createElement("div");return n.className="absolute inset-0 pointer-events-none",n}function B(){const n=document.createElement("div");n.className="absolute z-[75]";const t=document.createElement("div");t.className="relative rounded-box bg-base-100 shadow border border-base-200 p-4 w-80 max-w-[92vw]",n.appendChild(t);const s=document.createElement("div");s.className="mb-2 font-medium text-base-content/90",t.appendChild(s);const i=document.createElement("div");i.className="text-sm leading-relaxed",t.appendChild(i);const a=document.createElement("div");a.className="mt-3 pt-3 border-t border-base-200 flex items-center justify-between",t.appendChild(a);const r=document.createElement("div");r.className="flex gap-2",a.appendChild(r);const c=document.createElement("div");c.className="flex gap-2 items-center",a.appendChild(c);const d=document.createElement("button");d.type="button",d.className="btn btn-ghost btn-sm",r.appendChild(d);const o=document.createElement("button");o.type="button",o.className="btn btn-primary btn-sm",c.appendChild(o);const b=document.createElement("button");b.type="button",b.className="btn btn-success btn-sm hidden",c.appendChild(b);const f=document.createElement("button");f.type="button",f.className="btn btn-ghost btn-xs opacity-70",c.appendChild(f);const m=document.createElement("span");return m.className="hidden absolute w-3 h-3 rotate-45 bg-base-100 border border-base-200",t.appendChild(m),{panel:n,content:t,header:s,body:i,footer:a,btnPrev:d,btnNext:o,btnFinish:b,btnSkip:f,arrow:m}}function O(n){const t=n.getBoundingClientRect();return{x:t.left+window.scrollX,y:t.top+window.scrollY,width:t.width,height:t.height}}function R(n,t,s,i){const a=n.panel,r=t.x,c=t.y,d=t.width,o=t.height,b=window.scrollX+document.documentElement.clientWidth,f=window.scrollY+document.documentElement.clientHeight;let m=0,h=0;const S=s==="auto"?["bottom","right","top","left"]:[s],L=a.getBoundingClientRect(),y=L.width||320,g=L.height||120;function w(){return c+o+i+g<=f}function k(){return c-i-g>=window.scrollY}function C(){return r+d+i+y<=b}function _(){return r-i-y>=window.scrollX}let u=S[0];s==="auto"&&(w()?u="bottom":C()?u="right":k()?u="top":_()?u="left":u="bottom"),u==="bottom"?(m=c+o+i,h=r+d/2-y/2):u==="top"?(m=c-g-i,h=r+d/2-y/2):u==="right"?(m=c+o/2-g/2,h=r+d+i):u==="left"&&(m=c+o/2-g/2,h=r-y-i);const E=8;h=P(h,window.scrollX+E,b-y-E),m=P(m,window.scrollY+E,f-g-E),a.style.top=`${m}px`,a.style.left=`${h}px`;const e=n.arrow;e&&(e.classList.add("hidden"),e.style.top="",e.style.left="",e.style.right="",e.style.bottom="",e.classList.remove("border-t-0","border-l-0","border-r-0","border-b-0"),u==="top"?(e.style.left="50%",e.style.transform="translateX(-50%) rotate(45deg)",e.style.bottom="-0.25rem",e.classList.add("border-t-0","border-l-0"),e.classList.remove("hidden")):u==="right"?(e.style.left="-0.25rem",e.style.top="50%",e.style.transform="translateY(-50%) rotate(45deg)",e.classList.add("border-t-0","border-r-0"),e.classList.remove("hidden")):u==="bottom"?(e.style.left="50%",e.style.transform="translateX(-50%) rotate(45deg)",e.style.top="-0.25rem",e.classList.add("border-b-0","border-r-0"),e.classList.remove("hidden")):u==="left"&&(e.style.right="-0.25rem",e.style.top="50%",e.style.transform="translateY(-50%) rotate(45deg)",e.classList.add("border-b-0","border-l-0"),e.classList.remove("hidden")))}function T(n,t,s){const i=Math.max(0,s),a=t.x,r=t.y,c=t.width,d=t.height,o=`path('M0 0 H${document.documentElement.scrollWidth} V${document.documentElement.scrollHeight} H0 Z M${a-i} ${r-i} H${a+c+i} V${r+d+i} H${a-i} Z')`;n.style.clipPath=o,n.style.WebkitClipPath=o,n.style.background="rgba(0,0,0,0.4)"}function H(n,t){n&&(n.classList.toggle("ring",!!t),n.classList.toggle("ring-primary",!!t),n.classList.toggle("ring-offset-2",!!t),n.classList.toggle("ring-offset-base-100",!!t))}function F(n){try{n.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}catch{}}function j(n){const t=V(n);if(!t||!Array.isArray(t.steps)||t.steps.length===0)return;let s=-1,i=null,a=null;const r=I(),c=W(t.mask),d=q(),o=B();r.appendChild(c),r.appendChild(d),document.body.appendChild(r),document.body.appendChild(o.panel);function b(e){r.style.pointerEvents=e?"auto":"none",r.style.opacity=e?"1":"0"}function f(){i&&(clearTimeout(i),i=null)}function m(){a&&(H(a,!1),a=null)}function h(e){if(f(),e<0||e>=t.steps.length)return;const l=t.steps[e],p=l.placement||"auto",x=l.interactive!=null?!!l.interactive:!!t.interactive,v=l.target?document.querySelector(l.target):null;if(!v)return w();a=v;const N=O(v);T(d,N,t.radius),t.highlight&&H(v,!0),t.highlight&&F(v),o.header.textContent=l.title||"",o.header.classList.toggle("hidden",!l.title),o.body.textContent=l.content||"",o.btnPrev.textContent=t.labels.prev,o.btnNext.textContent=t.labels.next,o.btnFinish.textContent=t.labels.finish,o.btnSkip.textContent=t.labels.skip,o.btnSkip.classList.toggle("hidden",!t.allowSkip),r.style.pointerEvents=x?"none":"auto",c.style.pointerEvents="auto",d.style.pointerEvents="none",R(o,N,p,t.offset),o.btnPrev.disabled=e===0,o.btnNext.classList.toggle("hidden",e===t.steps.length-1),o.btnFinish.classList.toggle("hidden",e!==t.steps.length-1),l.auto&&l.auto>0&&(i=setTimeout(()=>{w()},l.auto)),n.dispatchEvent(new CustomEvent("onboarding:step",{detail:{index:e},bubbles:!0}))}function S(){b(!0),s=0,n.dispatchEvent(new CustomEvent("onboarding:start",{detail:{index:0},bubbles:!0})),h(s),_()}function L(){f(),m(),b(!1),r.remove(),o.panel.remove(),n.dispatchEvent(new CustomEvent("onboarding:finish",{bubbles:!0})),u()}function y(e){const l=t.confirm||{};if(!l.enabled)return e();const p=document.createElement("span");p.setAttribute("data-popconfirm",""),p.className="relative inline-block";const x=document.createElement("button");x.type="button",x.className="popconfirm-trigger hidden",p.appendChild(x);const v=document.createElement("div");v.className="popconfirm-panel absolute z-[80] top-0 left-0",v.innerHTML=`
      <div class="rounded-box bg-base-100 shadow border border-base-200 p-4 w-64">
        <div class="text-sm mb-3">${l.text||""}</div>
        <div class="flex justify-end gap-2">
          <button class="btn btn-ghost btn-sm" data-popconfirm-action="cancel">${l.cancel||"Annuler"}</button>
          <button class="btn btn-primary btn-sm" data-popconfirm-action="confirm">${l.ok||"OK"}</button>
        </div>
      </div>`,p.appendChild(v),document.body.appendChild(p);const N=o.btnSkip.getBoundingClientRect();p.style.position="absolute",p.style.top=`${window.scrollY+N.bottom+6}px`,p.style.left=`${window.scrollX+N.right-260}px`;const $=()=>{try{window.DaisyPopconfirm?.initAll?.()}catch{}const D=()=>{try{p.remove()}catch{}},M=()=>{D(),e()},X=()=>{D()};p.addEventListener("popconfirm:confirm",M,{once:!0}),p.addEventListener("popconfirm:cancel",X,{once:!0}),x.click()};if(window.DaisyPopconfirm)$();else try{z(()=>import("./popconfirm-Bk9x9G4s.js"),[]).then(()=>{$()})}catch{$()}}function g(){y(()=>{f(),m(),b(!1),r.remove(),o.panel.remove(),n.dispatchEvent(new CustomEvent("onboarding:skip",{bubbles:!0})),u()})}function w(){const e=s+1;if(e>=t.steps.length)return L();s=e,h(s)}function k(){const e=s-1;s=Math.max(0,e),h(s)}function C(){if(s<0||s>=t.steps.length)return;const e=t.steps[s],l=e.target?document.querySelector(e.target):null;if(!l)return;const p=O(l);T(d,p,t.radius),R(o,p,e.placement||"auto",t.offset)}function _(){window.addEventListener("resize",C),window.addEventListener("scroll",C,{passive:!0}),t.keyboard&&window.addEventListener("keydown",E,{capture:!0})}function u(){window.removeEventListener("resize",C),window.removeEventListener("scroll",C,{passive:!0}),window.removeEventListener("keydown",E,{capture:!0})}function E(e){e.key==="Escape"&&t.allowSkip?(e.preventDefault(),g()):e.key==="ArrowRight"?(e.preventDefault(),w()):e.key==="ArrowLeft"&&(e.preventDefault(),k())}o.btnPrev.addEventListener("click",e=>{e.preventDefault(),k()}),o.btnNext.addEventListener("click",e=>{e.preventDefault(),w()}),o.btnFinish.addEventListener("click",e=>{e.preventDefault(),L()}),o.btnSkip.addEventListener("click",e=>{e.preventDefault(),t.allowSkip&&g()}),n.dataset.start==="1"&&setTimeout(S,50),n.__onboarding={start:S,next:w,prev:k,finish:L,skip:g}}function A(){document.querySelectorAll('[data-onboarding="1"]').forEach(n=>{n.__onboarding||j(n)})}window.DaisyOnboarding={initAll:A};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",A):A();
