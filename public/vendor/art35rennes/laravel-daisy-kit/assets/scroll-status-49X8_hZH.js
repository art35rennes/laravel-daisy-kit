function p(t){if(t.dataset.global==="true")return window;const s=t.dataset.container;if(s)try{const n=document.querySelector(s);if(n)return n}catch{}let e=t.parentElement;for(;e;){const c=getComputedStyle(e).overflowY;if((c==="auto"||c==="scroll")&&e.scrollHeight>e.clientHeight)return e;e=e.parentElement}return window}function w(t){if(t===window){const s=window.scrollY||document.documentElement.scrollTop||document.body.scrollTop||0,e=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),n=window.innerHeight||document.documentElement.clientHeight;return{scrollTop:s,scrollHeight:e,clientHeight:n}}return{scrollTop:t.scrollTop,scrollHeight:t.scrollHeight,clientHeight:t.clientHeight}}function b(t){const s=t.getAttribute("data-height")||"10px",e=t.getAttribute("data-color")||"#3b82f6",n=parseInt(t.getAttribute("data-offset")||"0",10)||0,c=t.getAttribute("data-global")==="true";t.style.position=c?"fixed":"sticky",t.style.top=n+"px",t.style.left="0",t.style.right="0",t.style.height=s,t.style.zIndex="40",t.style.background="transparent";const i=t.querySelector("[data-scrollstatus-progress]")||(()=>{const l=document.createElement("div");return l.setAttribute("data-scrollstatus-progress",""),t.appendChild(l),l})();i.style.height="100%",i.style.width="0%",i.style.background=e,i.style.transition="width 80ms linear"}function f(t){if(!t||t.__ssInit)return;t.__ssInit=!0,b(t);const s=p(t),e=t.getAttribute("data-open-once")!=="false",n=t.getAttribute("data-target")||"",c=parseFloat(t.getAttribute("data-scroll")||"0");let i=!1;function l(){const{scrollTop:g,scrollHeight:h,clientHeight:m}=w(s),y=Math.max(1,h-m),a=Math.max(0,Math.min(100,g/y*100)),u=t.querySelector("[data-scrollstatus-progress]");if(u&&(u.style.width=a.toFixed(2)+"%"),c>0&&n&&a>=c&&(!i||!e))try{const o=document.querySelector(n)||document.getElementById(n.replace(/^#/,""));o&&typeof o.showModal=="function"&&o.showModal(),i=!0}catch{}}const d=s===window?window:s;d.addEventListener("scroll",l,{passive:!0}),window.addEventListener("resize",l),t.__ssOff=()=>{d.removeEventListener("scroll",l),window.removeEventListener("resize",l)},l()}function r(){document.querySelectorAll('[data-scrollstatus="1"]').forEach(f)}function H(t){if(t?.__ssOff){try{t.__ssOff()}catch{}t.__ssOff=null}t.__ssInit=!1}window.DaisyScrollStatus={init:f,initAll:r,dispose:H};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",r):r();
