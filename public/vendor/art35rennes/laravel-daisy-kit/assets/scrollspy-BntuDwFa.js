function h(t){const e=t.dataset.container;if(!e)return null;try{return document.querySelector(e)}catch{return null}}function y(t){const e=t.querySelectorAll('a[href^="#"]'),n=[];return e.forEach(r=>{const c=decodeURIComponent(r.getAttribute("href")||"").slice(1);if(!c)return;const o=document.getElementById(c);o&&n.push({a:r,target:o})}),n}function E(t,e){const n=t.dataset.activeClass||"active";t.querySelectorAll("a").forEach(r=>r.classList.remove(n)),e&&e.classList.add(n)}function _(t){return t.dataset.smooth==="true"}function b(t){t.__sspClicks||(t.__sspClicks=!0,t.addEventListener("click",e=>{const n=e.target.closest('a[href^="#"]');if(!n||!t.contains(n))return;const r=decodeURIComponent(n.getAttribute("href")||"").slice(1),c=document.getElementById(r);if(!c)return;e.preventDefault();const o=h(t),l=parseInt(t.dataset.offset||"0",10)||0;if(o){const i=o.getBoundingClientRect(),d=c.getBoundingClientRect().top-i.top+o.scrollTop-l;o.scrollTo({top:d,behavior:_(t)?"smooth":"auto"})}else{const i=c.getBoundingClientRect().top+window.scrollY-l;window.scrollTo({top:i,behavior:_(t)?"smooth":"auto"})}}))}function p(t){const e=h(t)||void 0,n=t.__sspItems||[],r=t.__sspTargets||[];if(!n.length||!r.length)return;const c=(e||document.documentElement).getBoundingClientRect();let o=null,l=-1;if(r.forEach(i=>{const s=i.getBoundingClientRect(),u=Math.max(0,Math.min(s.bottom,c.bottom)-Math.max(s.top,c.top))/Math.max(1,s.height);s.bottom>c.top&&s.top<c.bottom&&u>=l&&(o=i,l=u)}),o){const i=n.find(s=>s.target===o);i&&E(t,i.a)}}function g(t){t.dataset.track;const e=h(t)||void 0,n=t.dataset.rootMargin||"0px 0px -25%",r=t.dataset.threshold;let c=[.1,.5,1];try{r&&(c=JSON.parse(r))}catch{}const o={root:e||null,rootMargin:n,threshold:c},l=y(t),i=l.map(a=>a.target);if(!i.length)return;const s=new IntersectionObserver(()=>{p(t)},o);i.forEach(a=>s.observe(a)),t.__sspIO=s,t.__sspTargets=i,t.__sspItems=l,p(t);const d=e||window,u=()=>p(t);d.addEventListener("scroll",u,{passive:!0}),window.addEventListener("resize",u),t.__sspOff=()=>{d.removeEventListener("scroll",u),window.removeEventListener("resize",u)}}function I(t){C(t),g(t)}function C(t){if(t?.__sspIO)try{t.__sspIO.disconnect()}catch{}if(t.__sspIO=null,t.__sspTargets=null,t.__sspItems=null,t.__sspOff){try{t.__sspOff()}catch{}t.__sspOff=null}}function S(t){if(t.dataset.autogen!=="true")return;const e=h(t)||document,n=t.dataset.track||"section",r=t.querySelector("ul");if(!r)return;r.innerHTML="";const c=new Set;e.querySelectorAll(n).forEach(o=>{const i=o.querySelector("h2, h3, h4, h5, h6")?.textContent?.trim()||o.id||"Section";let s=o.id||i.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-"),d=s,u=2;for(;c.has(s);)s=d+"-"+u++;o.id||(o.id=s),c.add(s);const a=document.createElement("li"),f=document.createElement("a");f.href=`#${s}`,f.textContent=i,f.className="truncate",a.appendChild(f),r.appendChild(a)})}function w(t){!t||t.__sspInit||(t.__sspInit=!0,S(t),b(t),g(t))}function m(){document.querySelectorAll('[data-scrollspy="1"]').forEach(w)}window.DaisyScrollSpy={init:w,initAll:m,refresh:I,dispose:C};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",m):m();
