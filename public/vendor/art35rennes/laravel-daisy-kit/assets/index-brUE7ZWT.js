const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/leaflet-gesture-handling.min-By7NqIL1.js","assets/_commonjsHelpers-Cpj98o6Y.js","assets/leaflet-gesture-handling-D1zb0BGr.css","assets/L.Control.Locate.esm-BghfNA47.js","assets/leaflet-src-DS0yb_yE.js","assets/leaflet-src-DCIffZry.js","assets/L.Control.Locate-CWajkyqQ.css","assets/Control.FullScreen-DHFQl6Ip.js","assets/Control-B7rrWkpB.css","assets/Control.MiniMap.min-XLsm-6pH.js","assets/Control.MiniMap-CEsIQhjQ.css","assets/leaflet-measure-Caffkxpx.js","assets/leaflet-measure-Dnk0ev_A.css","assets/leaflet-QXlzpKty.css","assets/leaflet.markercluster-src-D9rFUG9e.js","assets/MarkerCluster-BKK0pH8C.css","assets/MarkerCluster-BhFbdele.css","assets/Control.Geocoder.modern-Bfmdi3y2.js","assets/Control-B497FF6P.css","assets/EsriLeaflet-DwtNoctz.js","assets/FeatureLayer-TlSHTldR.js","assets/EsriLeafletGeocoding-CiZSIN5b.js","assets/esri-leaflet-geocoder-CbCAQxAS.css","assets/leaflet-routing-machine-BPEy5wv_.js","assets/leaflet-routing-machine-Bvt4pw2y.css","assets/leaflet-D857OBXF.css","assets/leaflet-providers-rLUOJ_Vn.js"])))=>i.map(i=>d[i]);
import{_ as a}from"./app-Il9r1z46.js";async function y(r,t,e){const o=e?.plugins||{};try{o.gestureHandling&&r?.GestureHandling&&(t.addHandler("gestureHandling",r.GestureHandling),t.gestureHandling.enable())}catch{}try{o.locateControl&&r?.control?.locate&&r.control.locate({keepCurrentZoomLevel:!0}).addTo(t)}catch{}try{o.fullscreen&&r?.control?.fullscreen&&r.control.fullscreen({position:"topleft"}).addTo(t)}catch{}try{if(o.hash&&window.L&&window.L.Hash){const i="__DaisyLeafletHashAttachedId";if(!window[i]){new window.L.Hash(t);try{window[i]=t._leaflet_id||t._container&&t._container.id||"1"}catch{}}}}catch{}try{if(o.scale){const i=typeof o.scale=="object"?o.scale:{metric:!0,imperial:!0};r.control.scale(i).addTo(t)}}catch{}try{if(o.miniMap&&window.L&&window.L.Control&&(window.L.Control.MiniMap||r.Control?.MiniMap)){const i=window.L.Control.MiniMap||r.Control.MiniMap;let n=null;if(o.miniMap.url?n=r.tileLayer(o.miniMap.url,o.miniMap.options||{}):o.miniMap.provider&&r?.tileLayer?.provider&&(n=r.tileLayer.provider(o.miniMap.provider,o.miniMap.options||{})),n){const s=new i(n,{toggleDisplay:!0});t.addControl(s)}}}catch{}try{if(o.measure&&r?.control?.measure){const i=typeof o.measure=="object"?o.measure:{};r.control.measure(i).addTo(t)}}catch{}try{if(o.draw&&r?.draw&&r?.Control?.Draw){const i=typeof o.draw=="object"?o.draw||{}:{};let n=i?.edit?.featureGroup;n||(n=r.featureGroup().addTo(t),i.edit={...i.edit||{},featureGroup:n});const s=new r.Control.Draw(i);t.addControl(s),t.on("draw:created",c=>{try{n.addLayer(c.layer)}catch{}})}}catch{}try{o.heatmap&&Array.isArray(o.heatmap.points)&&r?.heatLayer&&r.heatLayer(o.heatmap.points,o.heatmap.options||{}).addTo(t)}catch{}try{if(o.geocoder){const i=(typeof o.geocoder=="object"?o.geocoder.provider:o.geocoder)||"osm";i==="osm"&&r.Control?.geocoder?r.Control.geocoder(typeof o.geocoder=="object"?o.geocoder.options||{}:{}).addTo(t):i==="esri"&&window.L&&window.L.esri&&window.L.esri.Geocoding&&window.L.esri.Geocoding.geosearch&&window.L.esri.Geocoding.geosearch((typeof o.geocoder=="object"?o.geocoder.options:{})||{}).addTo(t)}}catch{}try{if(o.routing&&window.L&&window.L.Routing&&window.L.Routing.Control){const i=typeof o.routing=="object"?o.routing.options||{}:{};window.L.Routing.control(i).addTo(t)}}catch{}}async function w(r){const t=[];try{r.gestureHandling&&t.push(a(()=>import("./leaflet-gesture-handling.min-By7NqIL1.js").then(e=>e.l),__vite__mapDeps([0,1])).then(async e=>{try{await a(()=>Promise.resolve({}),__vite__mapDeps([2]))}catch{}const o=e&&(e.default||e.GestureHandling)||window.L&&window.L.GestureHandling;o&&window.L&&(window.L.GestureHandling=o)}))}catch{}try{r.locateControl&&t.push(a(()=>import("./L.Control.Locate.esm-BghfNA47.js"),__vite__mapDeps([3,4,1,5])).then(async()=>{try{await a(()=>Promise.resolve({}),__vite__mapDeps([6]))}catch{}}))}catch{}try{r.fullscreen&&t.push(a(()=>import("./Control.FullScreen-DHFQl6Ip.js").then(e=>e.C),__vite__mapDeps([7,1,5])).then(async()=>{try{await a(()=>Promise.resolve({}),__vite__mapDeps([8]))}catch{}}))}catch{}try{r.hash&&t.push(a(()=>import("./leaflet-hash-i3kVCyZ2.js"),[]))}catch{}try{r.miniMap&&t.push(a(()=>import("./Control.MiniMap.min-XLsm-6pH.js").then(e=>e.C),__vite__mapDeps([9,1,5])).then(async()=>{try{await a(()=>Promise.resolve({}),__vite__mapDeps([10]))}catch{}}))}catch{}try{r.measure&&t.push(a(()=>import("./leaflet-measure-Caffkxpx.js").then(e=>e.l),__vite__mapDeps([11,1])).then(async()=>{try{await a(()=>Promise.resolve({}),__vite__mapDeps([12]))}catch{}}))}catch{}try{r.draw&&t.push(a(()=>import("./leaflet.draw-BrRGfJeu.js"),[]).then(async()=>{try{await a(()=>Promise.resolve({}),__vite__mapDeps([13]))}catch{}}))}catch{}try{r.cluster&&t.push(a(()=>import("./leaflet.markercluster-src-D9rFUG9e.js").then(e=>e.l),__vite__mapDeps([14,1])).then(async()=>{try{await a(()=>Promise.resolve({}),__vite__mapDeps([15]))}catch{}try{await a(()=>Promise.resolve({}),__vite__mapDeps([16]))}catch{}}))}catch{}try{r.heatmap&&t.push(a(()=>import("./leaflet-heat-hQeRTJ38.js"),[]))}catch{}try{if(r.geocoder){const e=(typeof r.geocoder=="object"?r.geocoder.provider:r.geocoder)||"osm";e==="osm"?t.push(a(()=>import("./Control.Geocoder.modern-Bfmdi3y2.js"),__vite__mapDeps([17,4,1,5])).then(async()=>{try{await a(()=>Promise.resolve({}),__vite__mapDeps([18]))}catch{}})):e==="esri"&&(t.push(a(()=>import("./EsriLeaflet-DwtNoctz.js"),__vite__mapDeps([19,20,4,1,5]))),t.push(a(()=>import("./EsriLeafletGeocoding-CiZSIN5b.js"),__vite__mapDeps([21,4,1,5,20])).then(async()=>{try{await a(()=>Promise.resolve({}),__vite__mapDeps([22]))}catch{}})))}}catch{}try{r.routing&&t.push(a(()=>import("./leaflet-routing-machine-BPEy5wv_.js").then(e=>e.l),__vite__mapDeps([23,1])).then(async()=>{try{await a(()=>Promise.resolve({}),__vite__mapDeps([24]))}catch{}}))}catch{}await Promise.allSettled(t)}function m(r,t,e,o,i){if(!Array.isArray(e)||!e.length)return;let n=null;try{o&&r?.markerClusterGroup&&(n=r.markerClusterGroup(i||{}))}catch{}n||(n=r.layerGroup());for(const s of e){let c,_,l,d,u;if(Array.isArray(s)?([c,_,l]=s,u={}):(c=s.lat,_=s.lng,l=s.popup,d=s.icon,u=s.options||{}),typeof c!="number"||typeof _!="number")continue;const p=r.marker([c,_],u);if(d)try{p.setIcon(d)}catch{}if(l)try{p.bindPopup(l)}catch{}n.addLayer(p)}n.addTo(t)}function g(r,t,e){if(e)try{const o=typeof e=="string"?JSON.parse(e):e;r.geoJSON(o).addTo(t)}catch{}}function E(r,t){try{const e=t.options||{};if(t.url)return r.tileLayer(t.url,e);const o=t.provider||"OpenStreetMap.Mapnik";return r?.tileLayer?.provider?r.tileLayer.provider(o,e):r.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",e)}catch{return null}}function v(r){try{const t=r.querySelector("script[data-config]");return t?JSON.parse(t.textContent||"{}"):null}catch{return null}}async function L(){if(typeof window>"u")throw new Error("Leaflet requiert un environnement navigateur.");if(window.L)return window.L;const r=await a(()=>import("./leaflet-src-DS0yb_yE.js").then(e=>e.l),__vite__mapDeps([4,1,5])),t=r.default||r;try{await a(()=>Promise.resolve({}),__vite__mapDeps([25]))}catch{}window.L=t;try{await a(()=>import("./leaflet-providers-rLUOJ_Vn.js").then(e=>e.l),__vite__mapDeps([26,1,5]))}catch{}return t}async function f(r){const t=v(r);if(!t)return null;let e;try{e=await L()}catch{return null}const o=document.getElementById(String(t.containerId||""));if(!o)return null;const i={};t.preferCanvas&&(i.preferCanvas=!0),Number.isInteger(t.minZoom)&&(i.minZoom=Number(t.minZoom)),Number.isInteger(t.maxZoom)&&(i.maxZoom=Number(t.maxZoom));const n=e.map(o,i).setView([t.center?.lat||0,t.center?.lng||0],t.zoom||2),s=E(e,t.tiles||{});s&&s.addTo(n);try{await w(t?.plugins||{})}catch{}await y(e,n,t);try{m(e,n,t?.data?.markers||[],!!t?.plugins?.cluster,t?.plugins?.clusterOptions||{})}catch{}try{g(e,n,t?.data?.geojson)}catch{}try{const c=new CustomEvent("daisy:leaflet:init",{detail:{map:n,config:t,containerId:o.id,root:r}});r.dispatchEvent(c)}catch{}return n}async function A(){const r=Array.from(document.querySelectorAll('[data-leaflet="1"]')),t=[];for(const e of r){const o=await f(e);o&&t.push(o)}return t}window.DaisyLeaflet={init:f,initAll:A};(function(){function t(){const e=Array.from(document.querySelectorAll('[data-leaflet="1"]'));if(!e.length)return;const o=[];let i=!1;async function n(){if(i)return;const c=o.shift();if(c){i=!0;try{await c()}catch{}finally{i=!1,o.length&&requestAnimationFrame(n)}}}const s=new IntersectionObserver(c=>{c.forEach(_=>{if(_.isIntersecting){const l=_.target;s.unobserve(l),o.push(()=>f(l)),n()}})},{rootMargin:"400px 0px",threshold:.05});e.forEach(c=>s.observe(c))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",t):Promise.resolve().then(t)})();
