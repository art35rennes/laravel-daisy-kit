function o(e){const t=parseInt(e.dataset.current||"1",10);return Number.isFinite(t)&&t>0?t:1}function l(e,t){const d=e.querySelector("[data-stepper-headers]"),i=e.querySelector("[data-stepper-contents]");if(!d||!i)return;const r=Array.from(d.querySelectorAll("[data-step-index]")),p=Array.from(i.querySelectorAll("[data-step-content]")),n=r.length,s=Math.min(Math.max(1,t),n);e.dataset.current=String(s),r.forEach((u,b)=>{const f=b+1,m=f<=s;u.classList.toggle("step-primary",m),f===s?u.setAttribute("aria-current","step"):u.removeAttribute("aria-current")}),p.forEach(u=>{const f=parseInt(u.dataset.stepIndex||"0",10)===s;u.classList.toggle("hidden",!f),u.setAttribute("aria-hidden",f?"false":"true")});const a=e.querySelector("[data-stepper-prev]"),c=e.querySelector("[data-stepper-next]"),S=e.querySelector("[data-stepper-finish]");if(a&&a.toggleAttribute("disabled",s<=1),c&&c.classList.toggle("hidden",s>=n),S&&S.classList.toggle("hidden",s<n),e.dataset.persist==="true"&&e.id)try{sessionStorage.setItem("stepper:"+e.id,String(s))}catch{}e.dispatchEvent(new CustomEvent("stepper:change",{detail:{current:s},bubbles:!0}))}function q(e){if(e.dataset.persist==="true"&&e.id)try{const t=sessionStorage.getItem("stepper:"+e.id);t&&l(e,parseInt(t,10))}catch{}else l(e,o(e))}function I(e){const t=e.querySelector("[data-stepper-headers]");return t?Array.from(t.querySelectorAll("[data-step-index]")):[]}function y(e){return e.classList.contains("pointer-events-none")}function h(e,t){const d=I(e),i=o(e);let r=i+t;for(;r>=1&&r<=d.length;){const p=d[r-1];if(!y(p))return r;r+=t}return i}function v(e,t){if(!(e.dataset.linear==="true"))return!0;const i=o(e);if(t<=i)return!0;const r=h(e,1);return t===r}function x(e){if(!e||e.__stepperInit)return;e.__stepperInit=!0,q(e);const t=e.querySelector("[data-stepper-headers]"),d=e.querySelector("[data-stepper-contents]");if(!t||!d)return;t.addEventListener("click",n=>{const s=n.target,a=s&&typeof s.closest=="function"?s.closest("[data-step-index]"):null;if(!a||!t.contains(a)||e.dataset.allowClick!=="true"||y(a))return;const c=parseInt(a.dataset.stepIndex||"0",10);c&&v(e,c)&&l(e,c)}),t.addEventListener("keydown",n=>{if(n.key!=="Enter"&&n.key!==" "&&n.key!=="Spacebar")return;const s=n.target,a=s&&typeof s.closest=="function"?s.closest("[data-step-index]"):null;if(!a||!t.contains(a)||e.dataset.allowClick!=="true"||y(a))return;const c=parseInt(a.dataset.stepIndex||"0",10);c&&v(e,c)&&(n.preventDefault(),l(e,c))});const i=e.querySelector("[data-stepper-prev]"),r=e.querySelector("[data-stepper-next]"),p=e.querySelector("[data-stepper-finish]");i&&i.addEventListener("click",()=>{const n=h(e,-1);n!==o(e)&&l(e,n)}),r&&r.addEventListener("click",()=>{const n=h(e,1);n!==o(e)&&l(e,n)}),p&&p.addEventListener("click",()=>{e.dispatchEvent(new CustomEvent("stepper:finish",{bubbles:!0}))})}function g(){document.querySelectorAll("[data-stepper]").forEach(x)}window.DaisyStepper={init:x,initAll:g,setCurrent:l};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",g):g();
